metadata:
  name: Rounded Mounting Plate with Filleted Edges
  description: Demonstrates fillet finishing operation on a mounting plate with bolt holes
  version: 1.0
  author: TIA
  created: 2025-10-25
  phase: 2

parameters:
  # Plate dimensions
  plate_width: 150
  plate_height: 150
  plate_thickness: 8

  # Bolt circle specs
  bolt_count: 6
  bolt_circle_diameter: 100
  bolt_hole_diameter: 6.5  # For M6 bolts

  # Center hole
  center_hole_diameter: 40

  # Finishing
  edge_fillet_radius: 2.0  # Rounded edges for safety

parts:
  # Main mounting plate
  plate:
    primitive: box
    parameters:

      width: '${plate_width}'

      height: '${plate_height}'

      depth: '${plate_thickness}'
    origin: center

  # Bolt hole template (will be patterned)
  bolt_hole:
    primitive: cylinder
    radius: '${bolt_hole_diameter / 2}'
    height: '${plate_thickness + 2}'  # Slightly taller for clean cut
    origin: center

  # Center hole
  center_hole:
    primitive: cylinder
    radius: '${center_hole_diameter / 2}'
    height: '${plate_thickness + 2}'
    origin: center

operations:
  # Create bolt circle pattern
  bolt_circle:
    type: pattern
    pattern: circular
    input: bolt_hole
    count: '${bolt_count}'
    axis: Z
    center: [0, 0, 0]
    radius: '${bolt_circle_diameter / 2}'

  # Subtract all holes from plate
  plate_with_holes:
    type: boolean
    operation: difference
    base: plate
    subtract:
      - center_hole
      - bolt_circle_0
      - bolt_circle_1
      - bolt_circle_2
      - bolt_circle_3
      - bolt_circle_4
      - bolt_circle_5

  # Note: Finishing operations (fillet) temporarily disabled
  # until export section default_part parsing is implemented
