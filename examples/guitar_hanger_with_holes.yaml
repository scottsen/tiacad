metadata:
  name: Guitar Hanger with Screw Holes
  description: Wall-mounted guitar hanger with mounting screw holes
  version: 2.0
  author: TIA
  created: 2025-10-25

parameters:
  # Mounting plate dimensions
  plate_width: 100
  plate_depth: 10
  plate_height: 75

  # Beam dimensions
  beam_width: 75
  beam_depth: 10
  beam_height: 10

  # Arm dimensions
  arm_len: 70
  arm_width: 30
  arm_depth: 10
  arm_tilt_deg: 10
  arm_spacing: 72

  # Screw hole specifications
  screw_hole_diameter: 4.5  # For #8 screws
  screw_spacing: 60
  screw_hole_depth: 12  # Slightly deeper than plate
  screw_offset_from_top: 15

parts:
  # Mounting plate (back plate that attaches to wall)
  plate:
    primitive: box
    parameters:

      width: '${plate_width}'

      height: '${plate_depth}'

      depth: '${plate_height}'
    origin: center

  # Horizontal beam
  beam:
    primitive: box
    parameters:

      width: '${beam_width}'

      height: '${beam_depth}'

      depth: '${beam_height}'
    origin: center

  # Guitar arm (will be duplicated for left/right)
  arm:
    primitive: box
    parameters:

      width: '${arm_width}'

      height: '${arm_len}'

      depth: '${arm_depth}'
    origin: center

  # Screw hole template
  screw_hole:
    primitive: cylinder
    radius: '${screw_hole_diameter / 2}'
    height: '${screw_hole_depth}'
    origin: center

operations:
  # Position left arm (translate and rotate)
  left_arm:
    type: transform
    input: arm
    transforms:
      - translate:
          to: [0, 37.5, 0]
          offset:
            - ${-arm_spacing / 2}
            - ${arm_len / 2}
            - 0
      - rotate:
          angle: '${arm_tilt_deg}'
          axis: X
          origin:
            - ${-arm_spacing / 2}
            - 37.5
            - 0

  # Position right arm (translate and rotate)
  right_arm:
    type: transform
    input: arm
    transforms:
      - translate:
          to: [0, 37.5, 0]
          offset:
            - ${arm_spacing / 2}
            - ${arm_len / 2}
            - 0
      - rotate:
          angle: '${arm_tilt_deg}'
          axis: X
          origin:
            - ${arm_spacing / 2}
            - 37.5
            - 0

  # Position left screw hole
  left_screw_hole:
    type: transform
    input: screw_hole
    transforms:
      - translate: ['${-screw_spacing / 2}', 0, '${plate_height/2 - screw_offset_from_top}']

  # Position right screw hole
  right_screw_hole:
    type: transform
    input: screw_hole
    transforms:
      - translate: ['${screw_spacing / 2}', 0, '${plate_height/2 - screw_offset_from_top}']

  # Subtract screw holes from mounting plate
  plate_with_holes:
    type: boolean
    operation: difference
    base: plate
    subtract:
      - left_screw_hole
      - right_screw_hole

# Export specification
export:
  default_part: plate_with_holes
  parts:
    - name: plate_with_holes
      description: Mounting plate with screw holes
    - name: beam
      description: Horizontal support beam
    - name: left_arm
      description: Left guitar support arm
    - name: right_arm
      description: Right guitar support arm
