[pytest]
# TiaCAD Testing Configuration
# Updated: v3.1 Week 7 (Testing Confidence Plan)

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test markers
markers =
    # Core test categories
    unit: Unit tests (fast, isolated)
    integration: Integration tests (slower, multi-component)

    # Correctness test categories (v3.1)
    attachment: Tests verifying attachment correctness between parts
    rotation: Tests verifying rotation correctness and orientation
    dimensions: Tests verifying dimensional accuracy (size, volume, surface area)
    visual: Visual regression tests (comparison against reference images)

    # Performance and stress test categories
    stress: Stress tests (large assemblies, many operations)
    golden: Golden master tests (reference comparisons)
    slow: Slow-running tests (> 5 seconds)

    # Feature-specific markers
    parser: Tests for YAML parser and builders
    spatial: Tests for spatial reference resolution
    backend: Tests for geometry backend implementations
    validation: Tests for validation rules

# Test output options
console_output_style = progress
addopts =
    --strict-markers
    --tb=short
    -v

# Coverage options (when using pytest-cov)
# Run with: pytest --cov=tiacad_core --cov-report=html
[coverage:run]
source = tiacad_core
omit =
    */tests/*
    */test_*.py

[coverage:report]
precision = 2
show_missing = True
skip_covered = False

# Minimum test execution time to show in durations report
# Run with: pytest --durations=10
# to see the 10 slowest tests
